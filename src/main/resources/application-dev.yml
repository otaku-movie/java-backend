spring:
  datasource:
    # 使用 PostgreSQL 官方 JDBC 驱动（42.7.3，支持 PostgreSQL 17）
    driver-class-name: org.postgresql.Driver
    # Docker 环境可通过 SPRING_DATASOURCE_URL 覆盖，本地默认连接 localhost
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/test_movie?useUnicode=true&characterEncoding=UTF-8&useSSL=false&stringtype=unspecified&reWriteBatchedInserts=true&currentSchema=public}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgre}
  data:
    redis:
      # Docker 环境使用容器服务名，本地开发使用 localhost
      host: ${SPRING_DATA_REDIS_HOST:localhost}
      port: ${SPRING_DATA_REDIS_PORT:6379}
      database: 0
      password: ${SPRING_DATA_REDIS_PASSWORD:}
  rabbitmq:
    # Docker 环境使用容器服务名，本地开发使用 localhost
    host: ${SPRING_RABBITMQ_HOST:localhost}
    port: ${SPRING_RABBITMQ_PORT:5672}
    username: ${SPRING_RABBITMQ_USERNAME:guest}
    password: ${SPRING_RABBITMQ_PASSWORD:guest}
  servlet:
    multipart:
      # 请求最大大小 不设置会报错
      max-request-size: -1
      # 文件上传最大大小
      max-file-size: -1
  server:
    tomcat:
      max-swallow-size: -1
      max-http-form-post-size: -1
    port: 8080
    address: 0.0.0.0
logging:
  level:
    root: INFO
    com.example.backend: DEBUG
    org.springframework: INFO
    org.springframework.web: DEBUG
    org.springframework.boot: INFO
    org.springframework.context: INFO
    org.hibernate: DEBUG
    com.zaxxer.hikari: DEBUG
    # p6spy SQL 日志输出（输出完整的 SQL，参数已填充）
    p6spy: INFO
    # 关闭 MyBatis 默认的 SQL 输出（使用 p6spy 输出）
    org.mybatis: WARN
    org.apache.ibatis: WARN
    com.baomidou.mybatisplus: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  exception-conversion-word: "%wEx"